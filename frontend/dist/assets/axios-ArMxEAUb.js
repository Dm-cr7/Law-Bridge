import{n as a}from"./index-f8gYbhCl.js";const r="http://localhost:5000/api",s=r.replace(/\/+$/,""),o=a.create({baseURL:s,withCredentials:!0,headers:{"Content-Type":"application/json",Accept:"application/json"}});o.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&typeof t=="string"&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));o.interceptors.response.use(e=>e,e=>(e.response?.status===401&&(console.warn("Unauthorized: clearing session and redirecting..."),localStorage.removeItem("token"),localStorage.removeItem("role"),window.location.pathname!=="/login"&&(window.location.href="/login")),Promise.reject(e)));export{o as a};
