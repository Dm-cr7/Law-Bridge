import{n as a}from"./index-f8gYbhCl.js";const i="http://localhost:5000/api",r="authToken",t="authUser",n=a.create({baseURL:i,headers:{"Content-Type":"application/json"},timeout:15e3});n.interceptors.request.use(e=>{const o=localStorage.getItem(r)||sessionStorage.getItem(r);return o&&(e.headers.Authorization=`Bearer ${o}`),e},e=>(console.error("âŒ Request config error:",e),Promise.reject(e)));n.interceptors.response.use(e=>e,e=>{if(e.response){const{status:o,data:s}=e.response;return o===401&&(console.warn("ğŸ”’ 401 Unauthorized â€“ token invalid or expired"),localStorage.removeItem(r),localStorage.removeItem(t),sessionStorage.removeItem(r),sessionStorage.removeItem(t),window.location.href="/login"),o===403&&console.error("ğŸš« Access denied:",s?.message||"Forbidden"),o>=500&&console.error("ğŸ’¥ Server error:",s?.message||"Internal Server Error"),Promise.reject(e.response)}return e.request?console.error("ğŸŒ Network or CORS error:",e.message):console.error("âš™ï¸ Axios setup error:",e.message),Promise.reject(e)});export{n as a};
