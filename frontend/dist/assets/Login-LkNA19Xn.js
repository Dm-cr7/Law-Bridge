import{u as C,b as f,r as s,j as e,m as l,M as g,A as I}from"./index-f8gYbhCl.js";import{t as r}from"./index-Cne2OvF7.js";import{L as P}from"./lock-CswVYtIB.js";import{E as F,a as O}from"./eye-C1vUq6Vc.js";import"./index-Dgkh_OCz.js";function D(){const y=C(),{login:j}=f(),[i,w]=s.useState(""),[n,v]=s.useState(""),[d,N]=s.useState(!1),[c,u]=s.useState(!1),[k,o]=s.useState(!1),[m,x]=s.useState(""),[b,p]=s.useState(!1),[S,h]=s.useState(!1),L=async t=>{t.preventDefault(),u(!0);try{const a=await j(i,n,!0);a&&(r.success("Welcome back!"),y(`/dashboard/${a.role||"advocate"}`))}catch(a){r.error(a?.response?.data?.message||"Invalid credentials")}finally{u(!1)}},E=async t=>{t.preventDefault(),p(!0);try{const{api:a}=f();await a.post("/auth/forgot-password",{email:m}),r.success("If that email exists, a reset link has been sent."),h(!0),x("")}catch{r.error("Failed to send reset link")}finally{p(!1)}};return e.jsxs("div",{className:"relative flex flex-col justify-center items-center min-h-screen overflow-hidden bg-gradient-to-br from-sky-50 via-white to-blue-100",children:[e.jsx(l.div,{className:"absolute -top-20 -left-20 w-[400px] h-[400px] bg-sky-400/30 rounded-full blur-[150px]",animate:{x:[0,30,-30,0],y:[0,20,-20,0]},transition:{duration:14,repeat:1/0,ease:"easeInOut"}}),e.jsx(l.div,{className:"absolute bottom-0 right-0 w-[500px] h-[500px] bg-blue-500/30 rounded-full blur-[180px]",animate:{x:[0,-40,40,0],y:[0,-30,30,0]},transition:{duration:16,repeat:1/0,ease:"easeInOut"}}),e.jsxs(l.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.7},className:"relative z-10 w-full max-w-md bg-white/70 backdrop-blur-xl border border-blue-100 shadow-[0_0_40px_rgba(56,189,248,0.2)] rounded-2xl p-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx(l.img,{src:"/logo.png",alt:"LawBridge Logo",className:"w-14 h-14 mx-auto drop-shadow-lg",initial:{scale:.9},animate:{scale:[.9,1.05,.9]},transition:{duration:3,repeat:1/0}}),e.jsx("h1",{className:"text-3xl font-extrabold text-blue-700 mt-3",children:"Welcome Back"}),e.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Secure access to your LawBridge dashboard"})]}),e.jsxs("form",{onSubmit:L,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Email"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(g,{className:"absolute left-3 top-3 text-blue-400 w-5 h-5"}),e.jsx("input",{type:"email",value:i,onChange:t=>w(t.target.value),required:!0,placeholder:"you@example.com",className:"w-full pl-10 pr-3 py-2 border border-blue-100 rounded-lg focus:ring-2 focus:ring-blue-200 focus:border-blue-400 outline-none text-black bg-white/80"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Password"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(P,{className:"absolute left-3 top-3 text-blue-400 w-5 h-5"}),e.jsx("input",{type:d?"text":"password",value:n,onChange:t=>v(t.target.value),required:!0,placeholder:"Enter your password",className:"w-full pl-10 pr-10 py-2 border border-blue-100 rounded-lg focus:ring-2 focus:ring-blue-200 focus:border-blue-400 outline-none text-black bg-white/80"}),e.jsx("button",{type:"button",onClick:()=>N(t=>!t),className:"absolute right-3 top-2.5 text-slate-400 hover:text-blue-500 transition",children:d?e.jsx(F,{size:20}):e.jsx(O,{size:20})})]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsx("button",{type:"button",onClick:()=>o(!0),className:"text-sm text-blue-600 hover:underline",children:"Forgot password?"}),e.jsx("button",{type:"submit",disabled:c,className:"bg-gradient-to-r from-blue-600 to-sky-500 text-white px-6 py-2 rounded-full font-medium shadow-md hover:shadow-lg hover:scale-[1.02] transition-all disabled:opacity-60",children:c?"Logging in...":"Login"})]})]}),e.jsxs("div",{className:"mt-6 text-center text-sm text-slate-600",children:["Donâ€™t have an account?"," ",e.jsx("a",{href:"/register",className:"text-blue-600 hover:underline font-semibold",children:"Register"})]})]}),e.jsx(I,{children:k&&e.jsx(l.div,{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.jsxs(l.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white/90 backdrop-blur-lg rounded-2xl shadow-2xl p-6 w-full max-w-md border border-blue-100",children:[e.jsx("h2",{className:"text-xl font-bold text-blue-700 text-center mb-4",children:"Forgot Password"}),S?e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("p",{className:"text-slate-600",children:"A password reset link has been sent to your email."}),e.jsx("button",{onClick:()=>{o(!1),h(!1)},className:"bg-gradient-to-r from-blue-600 to-sky-500 text-white px-5 py-2 rounded-full font-medium hover:shadow-md transition",children:"Close"})]}):e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Email"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(g,{className:"absolute left-3 top-3 text-blue-400 w-5 h-5"}),e.jsx("input",{type:"email",value:m,onChange:t=>x(t.target.value),required:!0,placeholder:"you@example.com",className:"w-full pl-10 pr-3 py-2 border border-blue-100 rounded-lg focus:ring-2 focus:ring-blue-200 focus:border-blue-400 outline-none text-black bg-white/80"})]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-3",children:[e.jsx("button",{type:"button",onClick:()=>o(!1),className:"text-sm text-slate-500 hover:underline",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:b,className:"bg-gradient-to-r from-blue-600 to-sky-500 text-white px-5 py-2 rounded-full font-medium hover:shadow-md transition disabled:opacity-60",children:b?"Sending...":"Send reset link"})]})]})]})})})]})}export{D as default};
